



### 多线程和线程池

**使用多线程充分利用多核CPU,线程池避免线程频繁创建，销毁加大系统开销**。

创建一个线程池来管理多线程，线程池中主要包含任务队列和工作线程集合，将任务添加到队列中，然后在创建线程后，自动启动这些任务，使用了一个固定线程数的工作线程，限制了线程最大并发数。

多个线程





这个项目主要目的对浏览器的链接进行了解析请求，处理完之后给浏览器客户端返回一个响应，如文字图片视频等，服务器后端的处理方式使用了socket通信，使用epoll监听链接套接字，使用了peactor模式，主线程负责监听IO，如果读事件触发的，则主线程将数据读取上到缓冲区，再将请求对象放入工作队列中，睡眠在工作队列上的工作线程就会被唤醒进行数据的读取以及逻辑处理，利用有限状态机思想解析我们的http报文，解析完毕后，设置epoll写事件，主线程再将写缓冲区上的数据发送给客户端。